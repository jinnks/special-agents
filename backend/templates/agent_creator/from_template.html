{% extends "base.html" %}

{% block title %}Choose a Template{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <div class="mb-8">
        <a href="{{ url_for('agent_creator.choose_mode') }}" class="text-blue-600 hover:text-blue-800 mb-4 inline-block">
            ← Back to mode selection
        </a>
        <h1 class="text-3xl font-bold mb-2">Choose a Template</h1>
        <p class="text-gray-600">Start with a professional template and customize it to your needs</p>
    </div>

    <!-- Templates Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for template_id, template in templates.items() %}
        <div class="border rounded-lg overflow-hidden hover:shadow-lg transition bg-white">
            <div class="p-6">
                <!-- Category Badge -->
                <div class="mb-3">
                    <span class="inline-block px-3 py-1 text-xs font-semibold rounded-full
                        {% if template.category == 'business' %}bg-blue-100 text-blue-800
                        {% elif template.category == 'education' %}bg-green-100 text-green-800
                        {% elif template.category == 'creative' %}bg-purple-100 text-purple-800
                        {% elif template.category == 'development' %}bg-gray-100 text-gray-800
                        {% elif template.category == 'health' %}bg-red-100 text-red-800
                        {% else %}bg-yellow-100 text-yellow-800{% endif %}">
                        {{ template.category|title }}
                    </span>
                </div>

                <!-- Template Name -->
                <h3 class="text-xl font-bold mb-2">{{ template.name }}</h3>

                <!-- Description -->
                <p class="text-sm text-gray-600 mb-4">{{ template.description }}</p>

                <!-- Example Preview -->
                {% if template.example_conversations %}
                <div class="bg-gray-50 rounded p-3 mb-4 text-xs">
                    <p class="font-semibold text-gray-700 mb-1">Example:</p>
                    <p class="text-gray-600"><strong>You:</strong> {{ template.example_conversations[0].user }}</p>
                    <p class="text-gray-600 mt-1"><strong>Agent:</strong> {{ template.example_conversations[0].assistant[:100] }}{% if template.example_conversations[0].assistant|length > 100 %}...{% endif %}</p>
                </div>
                {% endif %}

                <!-- Customize Button -->
                <a href="{{ url_for('agent_creator.customize_template', template_id=template_id) }}"
                   class="block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold">
                    Use This Template →
                </a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Help Section -->
    <div class="mt-12 p-6 bg-blue-50 rounded-lg">
        <h3 class="font-bold text-lg mb-2">How templates work</h3>
        <ul class="space-y-2 text-sm text-gray-700">
            <li>✓ Each template comes with professional prompts and examples</li>
            <li>✓ You can customize everything - name, description, behavior, pricing</li>
            <li>✓ Templates are starting points - make them your own!</li>
            <li>✓ All templates work with both Claude and GPT</li>
        </ul>
    </div>
</div>
{% endblock %}
