{% extends "base.html" %}

{% block title %}Upload Agent Package - Special Agents{% endblock %}

{% block content %}
<div class="container">
    <div class="upload-package-page">
        <h1>Upload Agent Package</h1>
        <p class="intro">Upload a <code>.sagent</code> package file to create a new specialized AI agent</p>

        <div class="upload-methods">
            <div class="method-card">
                <h2>Upload .sagent Package</h2>
                <p>Professional method using the Special Agents package format</p>

                <form method="POST" action="{{ url_for('agents.upload_package') }}" enctype="multipart/form-data" class="upload-form">
                    <div class="form-group">
                        <label for="package">Select .sagent Package File</label>
                        <input type="file" id="package" name="package" accept=".sagent,.zip" required>
                        <small>Maximum file size: 50MB</small>
                    </div>

                    <button type="submit" class="btn btn-primary">Upload and Validate</button>
                </form>

                <div class="package-info">
                    <h3>What is a .sagent package?</h3>
                    <p>A <code>.sagent</code> package is a ZIP archive containing:</p>
                    <ul>
                        <li><strong>agent.yaml</strong> - Agent metadata and configuration</li>
                        <li><strong>system_prompt.txt</strong> - The AI's instructions</li>
                        <li><strong>examples/</strong> - Sample conversations (optional)</li>
                        <li><strong>knowledge/</strong> - Reference materials (optional)</li>
                        <li><strong>README.md</strong> - Documentation (optional)</li>
                    </ul>

                    <p><a href="{{ url_for('main.index') }}#package-spec" class="btn btn-outline">View Package Specification</a></p>
                </div>
            </div>

            <div class="method-card">
                <h2>Quick Create (Form)</h2>
                <p>Simple method for basic agents without advanced features</p>
                <a href="{{ url_for('agents.create') }}" class="btn btn-secondary">Use Simple Form</a>
            </div>
        </div>

        <div class="package-benefits">
            <h2>Benefits of Using .sagent Packages</h2>
            <div class="benefits-grid">
                <div class="benefit">
                    <h3>Version Control</h3>
                    <p>Track changes and update your agents over time</p>
                </div>
                <div class="benefit">
                    <h3>Knowledge Base</h3>
                    <p>Include reference materials and data files</p>
                </div>
                <div class="benefit">
                    <h3>Examples</h3>
                    <p>Show buyers how your agent works with sample conversations</p>
                </div>
                <div class="benefit">
                    <h3>Documentation</h3>
                    <p>Provide comprehensive guides for users</p>
                </div>
                <div class="benefit">
                    <h3>Portability</h3>
                    <p>Standard format works across platforms</p>
                </div>
                <div class="benefit">
                    <h3>Professional</h3>
                    <p>Shows buyers you're serious about quality</p>
                </div>
            </div>
        </div>

        <div class="getting-started">
            <h2>Getting Started</h2>
            <ol>
                <li>Create your agent package following the <a href="/AGENT_PACKAGE_SPEC.md" target="_blank">.sagent specification</a></li>
                <li>Test your package locally to ensure it's valid</li>
                <li>Upload it using the form above</li>
                <li>Our system will validate your package automatically</li>
                <li>If valid, your agent will be submitted for ethical review</li>
                <li>Once approved, it will appear in the marketplace</li>
            </ol>
        </div>

        <div class="example-package">
            <h2>Example Package Structure</h2>
            <pre><code>holiday-planner.sagent (ZIP file)
├── agent.yaml              # Metadata, pricing, config
├── system_prompt.txt       # AI instructions
├── examples/
│   ├── example1.yaml      # Sample conversation
│   └── example2.yaml
├── knowledge/
│   └── destinations.txt   # Reference data
└── README.md              # User documentation
</code></pre>
        </div>
    </div>
</div>

<style>
    .upload-package-page {
        max-width: 1000px;
        margin: 0 auto;
    }

    .intro {
        font-size: 1.1rem;
        color: #666;
        margin-bottom: 2rem;
    }

    .upload-methods {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
    }

    .method-card {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .method-card h2 {
        color: #667eea;
        margin-bottom: 0.5rem;
    }

    .upload-form {
        margin: 2rem 0;
    }

    .package-info {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 8px;
        margin-top: 2rem;
    }

    .package-info h3 {
        margin-bottom: 0.5rem;
    }

    .package-info ul {
        margin-left: 1.5rem;
    }

    .package-info code {
        background: #e9ecef;
        padding: 2px 6px;
        border-radius: 3px;
    }

    .package-benefits {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        margin-bottom: 3rem;
    }

    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 1.5rem;
    }

    .benefit {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 8px;
    }

    .benefit h3 {
        color: #667eea;
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
    }

    .getting-started {
        background: #e3f2fd;
        padding: 2rem;
        border-radius: 8px;
        margin-bottom: 2rem;
        border-left: 4px solid #2196f3;
    }

    .getting-started ol {
        margin-left: 2rem;
        margin-top: 1rem;
    }

    .getting-started li {
        margin-bottom: 0.5rem;
    }

    .example-package {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .example-package pre {
        background: #f5f5f5;
        padding: 1.5rem;
        border-radius: 4px;
        overflow-x: auto;
        margin-top: 1rem;
    }

    .example-package code {
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
    }
</style>
{% endblock %}
